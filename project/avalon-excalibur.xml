<module name="avalon-excalibur">
    <!-- ===================================================================
          General notes

    Excalibur has a rather complicated build system which utilizes
    ant to its fullest. Each of the excalibur subprojects has a buildfile
    which looks nearly identical to the rest. This buildfile, among other
    things, antcalls the ../depchecker.xml buildfile to check all of its
    dependencies are available.

    Looking at the default.properties files and this depchecker script
    provides the basic dependency information which needs to be encoded in
    the gump descriptor as well.

    Because gump manages the classpath in another way, we need to skip the
    execution of the depchecker script, which is done by setting the
    skip.dependencies property.

    ===

    Of further note is the fact that many of the excalibur subprojects
    depend on the excalibur testcase jar for testing, which is built by
    excalibur-component, and utilizes ECM. Taking this into account results
    in an even more complex dependency chain, as the excalibur-monitor
    target shows. The monitor buildfile is a little different from the other
    builds, as it executes junit by default.

    ===

    Also note each project currently depends on xml-xerces and xml-xalan. I
    suspect many of them silently don't, or not anymore.

    -->

    <url href="http://avalon.apache.org/excalibur/"/>
    <description>
      Avalon's repository of reusable components.
    </description>
    <cvs repository="avalon"/>


    <!-- ===================================================================
          Excalibur-wide builds

    this basically depends on all excalibur subprojects and their
    dependencies. It creates a rather big jar if successful.
    =================================================================== -->


    <project name="dist-avalon-excalibur">

        <package>org.apache.excalibur</package>
        <package>org.apache.avalon.excalibur</package>

        <ant target="dist">
            <depend property="logkit.jar" project="avalon-logkit" runtime="true"/>
            <property name="skip.dependencies" value="true"/>
            <property name="jakarta-site.dir" project="jakarta-site2"
                      reference="home" />
            <property name="forrest.home" project="xml-forrest"
                      path="build/dist/shbat/"/>
        </ant>

        <!-- 'internal deps'. Should be full list of all excalibur-* projects -->
        <depend project="excalibur-component" runtime="true" inherit="jars"/>
        <depend project="excalibur-configuration" runtime="true" inherit="jars"/>
	    <depend project="excalibur-lifecycle" runtime="true" inherit="jars"/>
	    <depend project="excalibur-compatibility" runtime="true" inherit="jars"/>
        <depend project="excalibur-datasource" runtime="true" inherit="jars"/>
        <depend project="excalibur-event" runtime="true" inherit="jars"/>
        <depend project="excalibur-extension" runtime="true" inherit="jars"/>
        <depend project="excalibur-i18n" runtime="true" inherit="jars"/>
        <depend project="excalibur-instrument" runtime="true" inherit="jars"/>
        <depend project="excalibur-instrument-client" runtime="true" inherit="jars"/>
        <depend project="excalibur-instrument-manager" runtime="true" inherit="jars"/>
        <depend project="excalibur-logger" runtime="true" inherit="jars"/>
        <depend project="excalibur-monitor" runtime="true" inherit="jars"/>
        <depend project="excalibur-pool" runtime="true" inherit="jars"/>
        <depend project="excalibur-sourceresolve" runtime="true" inherit="jars"/>
        <depend project="excalibur-meta-sourceresolve" runtim="true" inherit="jars"/>
        <depend project="excalibur-store" runtime="true" inherit="jars"/>
        <depend project="excalibur-thread" runtime="true" inherit="jars"/>
        <depend project="excalibur-xmlutil" runtime="true" inherit="jars"/>

        <!-- build-time dependencies -->
        <depend project="dist-bsf"/>
        <depend project="ant" inherit="runtime"/>
        <depend project="jakarta-servletapi-4"/>
        <depend project="jakarta-oro"/>
        <depend project="jakarta-log4j"/>
        <depend project="jakarta-velocity" inherit="runtime"/>
        <depend project="jdom"/>
        <depend project="junit"/>
        <depend project="rhino"/>
        <depend project="xml-forrest" inherit="runtime"/>
        <depend project="xml-xalan2"/>

        <!-- runtime dependencies -->
        <depend project="avalon-framework" runtime="true" id="combined"/>

        <depend project="excalibur-compatibility" runtime="true"/>

        <!-- this should go -->
        <depend project="excalibur-altrmi-0.9.2" inherit="runtime" runtime="true"/>
        <depend project="xml-xerces" id="parser" runtime="true"/>

        <!-- optional dependencies -->
        <option project="jdbc"/>
        <option project="jaxen"/>
        <option project="saxpath"/>

        <jar name="avalon-excalibur-@@DATE@@.jar"/>

        <license name="LICENSE.txt"/>

        <javadoc nested="build/javadocs" module="avalon"/>

        <nag from="Gump Integration Build &lt;dev@avalon.apache.org&gt;"
                to="dev@avalon.apache.org"
              subject="Audit Failure">
            <regexp pattern="/Checkstyle Failure/"/>
        </nag>

        <nag from="Gump Integration Build &lt;dev@avalon.apache.org&gt;"
                to="dev@avalon.apache.org"/>
    </project>



    <!-- ===================================================================
          Individual component builds
    =================================================================== -->



    <project name="excalibur-compatibility">
        <!-- this project is the merge of several packages which previously
             existed seperately:

             excalibur-cli
             excalibur-collections
             excalibur-concurrent
             excalibur-io
        -->
        <package>org.apache.avalon.excalibur</package>

	    <ant basedir="compatibility">
            <!-- runtime dependencies -->

            <!-- test-time dependencies -->
            <depend property="junit.jar" project="junit"/>

            <!-- optional dependencies -->
            <property name="checkstyle.jar" project="checkstyle" reference="jarpath"/>

            <property name="version" value="@@DATE@@"/>
            <property name="package-version" value="@@DATE@@"/>
            <property name="junit.failonerror" value="true"/>
            <property name="do.checkstyle" value="true"/>
            <property name="skip.dependencies" value="true"/>
        </ant>

        <!-- build-time dependencies -->
        <depend project="ant" inherit="runtime"/>
        <depend project="xml-xalan2"/>
        <depend project="xml-xerces"/>

        <!-- optional dependencies -->
        <option project="checkstyle" inherit="runtime"/>

        <work nested="compatibility/build/classes"/>
        <work nested="compatibility/build/testclasses"/>

        <home nested="compatibility"/>
        <jar name="build/lib/excalibur-compatibility-@@DATE@@.jar"/>

        <nag from="Gump Integration Build &lt;dev@avalon.apache.org&gt;"
                to="dev@avalon.apache.org"/>
    </project>

    <project name="excalibur-component">
        <!-- this project recently absorbed excalibur-testcase,
             which is still produced as a seperate jar -->
        <package>org.apache.avalon.excalibur.component</package>
        <package>org.apache.avalon.excalibur.testcase</package>

        <ant basedir="component">
            <!-- runtime dependencies -->
            <depend property="avalon-framework.jar" project="avalon-framework" runtime="true" id="combined"/>
            <depend property="commons-collections.jar" project="commons-collections" runtime="true"/>
            <depend property="excalibur-instrument.jar" project="excalibur-instrument" runtime="true"/>
            <depend property="excalibur-instrument-manager.jar"
                    project="excalibur-instrument-manager"
                    runtime="true" id="main"/>
            <depend property="excalibur-instrument-manager-interfaces.jar"
                    project="excalibur-instrument-manager"
                    runtime="true"
                    id="interfaces"/>
            <depend property="excalibur-logger.jar" project="excalibur-logger" runtime="true"/>
            <depend property="excalibur-pool.jar" project="excalibur-pool" runtime="true"/>
            <depend property="logkit.jar" project="avalon-logkit" runtime="true"/>

            <!-- test-time dependencies -->
            <depend property="junit.jar" project="junit"/>
            <depend property="excalibur-i18n.jar" project="excalibur-i18n"/>

            <!-- optional dependencies -->
            <property name="checkstyle.jar" project="checkstyle" reference="jarpath"/>
            <property name="servlet.jar" project="jakarta-servletapi" reference="jarpath"/>

            <property name="version" value="@@DATE@@"/>
            <property name="junit.failonerror" value="true"/>
            <property name="do.checkstyle" value="true"/>
            <property name="skip.dependencies" value="true"/>
        </ant>

        <!-- build-time dependencies -->
        <depend project="ant" inherit="runtime"/>
        <depend project="xml-xalan2"/>
        <depend project="xml-xerces"/>

        <!-- optional dependencies -->
        <option project="checkstyle" inherit="runtime"/>
        <option project="jakarta-servletapi" inherit="runtime"/>

        <work nested="component/build/classes"/>
        <work nested="component/build/testclasses"/>

        <home nested="component"/>
        <jar name="build/lib/excalibur-component-@@DATE@@.jar" id="component"/>
        <jar name="build/lib/excalibur-testcase-@@DATE@@.jar" id="testcase"/>

        <nag from="Gump Integration Build &lt;dev@avalon.apache.org&gt;"
                to="dev@avalon.apache.org"/>
    </project>

    <project name="excalibur-configuration">
        <package>org.apache.excalibur.configuration</package>

        <ant basedir="configuration">
            <!-- runtime dependencies -->
            <depend property="avalon-framework.jar" project="avalon-framework" runtime="true" id="combined"/>
            <depend property="isorelax.jar" project="iso-relax" runtime="true"/>
            <depend property="jing.jar" project="jing" runtime="true"/>

            <!-- test-time dependencies -->
            <depend property="junit.jar" project="junit"/>

            <!-- optional dependencies -->
            <property name="checkstyle.jar" project="checkstyle" reference="jarpath"/>

            <property name="package-version" value="@@DATE@@"/>
            <property name="junit.failonerror" value="true"/>
            <property name="do.checkstyle" value="false"/>
            <property name="skip.dependencies" value="true"/>
        </ant>

        <!-- build-time dependencies -->
        <depend project="ant" inherit="runtime"/>
        <depend project="xml-xerces"/>
        <depend project="xml-xalan2"/>

        <!-- optional dependencies -->
        <option project="checkstyle" inherit="runtime"/>

        <work nested="configuration/build/classes"/>
        <work nested="configuration/build/testclasses"/>

        <home nested="configuration"/>

        <jar name="build/lib/excalibur-configuration-@@DATE@@.jar"/>

        <nag from="Gump Integration Build &lt;dev@avalon.apache.org&gt;"
                to="dev@avalon.apache.org"/>
    </project>

    <project name="excalibur-datasource">
        <package>org.apache.avalon.excalibur.datasource</package>

        <ant basedir="datasource">
            <depend property="excalibur-instrument.jar" project="excalibur-instrument" runtime="true"/>
            <depend property="excalibur-pool.jar" project="excalibur-pool" runtime="true"/>
            <depend property="excalibur-logger.jar" project="excalibur-logger"/>
            <depend property="excalibur-component.jar" project="excalibur-component" id="component"/>
            <depend property="excalibur-testcase.jar" project="excalibur-component" id="testcase"/>
            <depend property="excalibur-fortress-tools.jar" project="avalon-fortress-tools"/>
            <depend property="logkit.jar" project="avalon-logkit"/>
            <property name="version" value="@@DATE@@"/>
            <property name="junit.failonerror" value="true"/>
            <property name="do.checkstyle" value="true"/>
            <property name="skip.dependencies" value="true"/>
            <depend property="qdox.jar" project="phoenix-qdox"/>
        </ant>

        <depend project="ant" inherit="runtime"/>
        <option project="checkstyle" inherit="runtime"/>
        <depend project="junit"/>
        <depend project="avalon-framework" runtime="true" id="combined"/>
        <depend project="xml-xerces"/>
        <depend project="xml-xalan2"/>
        <work nested="datasource/build/classes"/>

        <home nested="datasource"/>
        <jar name="build/lib/excalibur-datasource-@@DATE@@.jar"/>

        <nag from="Gump Integration Build &lt;dev@avalon.apache.org&gt;"
                to="dev@avalon.apache.org"/>
    </project>

    <project name="excalibur-event">
        <package>org.apache.excalibur.event</package>

        <ant basedir="event">
            <!-- runtime dependencies -->
            <depend property="avalon-framework.jar" project="avalon-framework" runtime="true" id="combined"/>
            <depend property="commons-collections.jar" project="commons-collections" runtime="true"/>
            <depend property="util.concurrent.jar" project="concurrent" runtime="true"/>

            <!-- test-time dependencies -->
            <depend property="junit.jar" project="junit"/>
            <depend property="excalibur-pool.jar" project="excalibur-pool"/>
            <depend property="excalibur-instrument.jar" project="excalibur-instrument"/>
            <depend property="excalibur-component.jar" project="excalibur-component" id="component"/>
            <depend property="excalibur-testcase.jar" project="excalibur-component" id="testcase"/>
            <depend property="logkit.jar" project="avalon-logkit"/>

            <!-- optional dependencies -->
            <property name="checkstyle.jar" project="checkstyle" reference="jarpath"/>

            <property name="package-version" value="@@DATE@@"/>
            <property name="junit.failonerror" value="true"/>
            <property name="do.checkstyle" value="true"/>
            <property name="skip.dependencies" value="true"/>
        </ant>

        <!-- build-time dependencies -->
        <depend project="ant" inherit="runtime"/>
        <depend project="xml-xerces"/>
        <depend project="xml-xalan2"/>

        <!-- optional dependencies -->
        <option project="checkstyle" inherit="runtime"/>

        <work nested="event/build/classes"/>
        <work nested="event/build/testclasses"/>

        <home nested="event"/>
        <jar name="build/lib/excalibur-event-@@DATE@@.jar"/>

        <nag from="Gump Integration Build &lt;dev@avalon.apache.org&gt;"
                to="dev@avalon.apache.org"/>
    </project>

    <project name="excalibur-extension">
        <package>org.apache.excalibur.extension</package>

        <ant basedir="extension">
            <!-- optional dependencies -->
            <property name="checkstyle.jar" project="checkstyle" reference="jarpath"/>

            <!-- test-time dependencies -->
            <depend property="junit.jar" project="junit"/>

            <property name="package-version" value="@@DATE@@"/>
            <property name="junit.failonerror" value="true"/>
            <property name="do.checkstyle" value="true"/>
            <property name="skip.dependencies" value="true"/>
        </ant>

        <!-- build-time dependencies -->
        <depend project="ant" inherit="runtime"/>
        <depend project="xml-xerces"/>
        <depend project="xml-xalan2"/>

        <!-- optional dependencies -->
        <option project="checkstyle" inherit="runtime"/>

        <work nested="extension/build/classes"/>
        <work nested="extension/build/testclasses"/>

        <home nested="extension"/>
        <jar name="build/lib/excalibur-extension-@@DATE@@.jar"/>

        <nag from="Gump Integration Build &lt;dev@avalon.apache.org&gt;"
                to="dev@avalon.apache.org"/>
    </project>

    <project name="excalibur-i18n">
        <package>org.apache.avalon.excalibur.i18n</package>

        <ant basedir="i18n">
            <!-- optional dependencies -->
            <property name="checkstyle.jar" project="checkstyle" reference="jarpath"/>

            <!-- test-time dependencies -->

            <property name="package-version" value="@@DATE@@"/>
            <property name="junit.failonerror" value="true"/>
            <property name="do.checkstyle" value="true"/>
            <property name="skip.dependencies" value="true"/>
        </ant>

        <!-- build-time dependencies -->
        <depend project="ant" inherit="runtime"/>
        <depend project="xml-xerces"/>
        <depend project="xml-xalan2"/>
        <depend project="junit"/>

        <!-- optional dependencies -->
        <option project="checkstyle" inherit="runtime"/>

        <work nested="i18n/build/classes"/>
        <work nested="i18n/build/testclasses"/>

        <home nested="i18n"/>
        <jar name="build/lib/excalibur-i18n-@@DATE@@.jar"/>

        <nag from="Gump Integration Build &lt;dev@avalon.apache.org&gt;"
                to="dev@avalon.apache.org"/>
    </project>

    <project name="excalibur-instrument">
        <package>org.apache.avalon.excalibur.instrument</package>

        <ant basedir="instrument">
            <!-- optional dependencies -->
            <property name="avalon-framework.jar" project="avalon-framework" reference="jarpath" id="combined"/>
            <property name="checkstyle.jar" project="checkstyle" reference="jarpath"/>

            <!-- test-time dependencies -->
            <depend property="junit.jar" project="junit"/>

            <property name="version" value="@@DATE@@"/>
            <property name="junit.failonerror" value="true"/>
            <property name="do.checkstyle" value="true"/>
            <property name="skip.dependencies" value="true"/>
        </ant>

        <!-- build-time dependencies -->
        <depend project="ant" inherit="runtime"/>
        <depend project="xml-xerces"/>
        <depend project="xml-xalan2"/>

        <!-- optional dependencies -->
        <option project="avalon-framework" runtime="true" id="combined"/>
        <option project="checkstyle" inherit="runtime"/>

        <work nested="instrument/build/classes"/>
        <work nested="instrument/build/testclasses"/>

        <home nested="instrument"/>
        <jar name="build/lib/excalibur-instrument-@@DATE@@.jar"/>

        <nag from="Gump Integration Build &lt;dev@avalon.apache.org&gt;"
                to="dev@avalon.apache.org"/>
    </project>

    <!-- no dependency on altrmi here. The ant buildfile knows to exclude the
         altrmi-related classes if altrmi is unavailable -->
    <project name="excalibur-instrument-manager">
        <package>org.apache.avalon.excalibur.instrument.manager</package>

        <mkdir dir="instrument-manager/build/classes"/>

        <ant basedir="instrument-manager">
            <!-- runtime dependencies -->
            <depend property="avalon-framework.jar" project="avalon-framework" runtime="true" id="combined"/>
            <depend property="excalibur-instrument.jar" project="excalibur-instrument" runtime="true"/>

            <!-- optional dependencies -->
            <property name="checkstyle.jar" project="checkstyle" reference="jarpath"/>

            <!-- test-time dependencies -->
            <depend property="junit.jar" project="junit"/>

            <property name="version" value="@@DATE@@"/>
            <property name="junit.failonerror" value="true"/>
            <property name="do.checkstyle" value="true"/>
            <property name="skip.dependencies" value="true"/>
        </ant>

        <!-- build-time dependencies -->
        <depend project="ant" inherit="runtime"/>
        <depend project="xml-xerces"/>
        <depend project="xml-xalan2"/>

        <!-- optional dependencies -->
        <option project="checkstyle" inherit="runtime"/>

        <work nested="instrument-manager/build/classes"/>
        <work nested="instrument-manager/build/testclasses"/>

        <home nested="instrument-manager"/>
        <jar name="build/lib/excalibur-instrument-manager-@@DATE@@.jar"
             id="main"/>
        <jar name="build/lib/excalibur-instrument-manager-interfaces-@@DATE@@.jar"
             id="interfaces"/>

        <nag from="Gump Integration Build &lt;dev@avalon.apache.org&gt;"
                to="dev@avalon.apache.org"/>
    </project>

    <!-- This is instrument-manager + altrmi. Should only be depended upon by
         projects which altrmi does not depend on. -->
    <project name="excalibur-instrument-manager-altrmi">
        <package>org.apache.avalon.excalibur.instrument.manager</package>

        <mkdir dir="instrument-manager/build/classes"/>

        <ant basedir="instrument-manager">
            <!-- runtime dependencies -->
<!--            <depend property="altrmi-common.jar" project="incubator-altrmi" id="common"/>
            <depend property="altrmi-client-interfaces.jar" project="incubator-altrmi" id="client-api"/>
            <depend property="altrmi-client-impl.jar" project="incubator-altrmi" id="client-impl"/>
            <depend property="altrmi-server-interfaces.jar" project="incubator-altrmi" id="server-api"/>
            <depend property="altrmi-server-impl.jar" project="incubator-altrmi" id="server-impl"/>-->
            <depend property="altrmi-common.jar" project="excalibur-altrmi-0.9.2" id="common"/>
            <depend property="altrmi-client-interfaces.jar" project="excalibur-altrmi-0.9.2" id="client-api"/>
            <depend property="altrmi-client-impl.jar" project="excalibur-altrmi-0.9.2" id="client-impl"/>
            <depend property="altrmi-server-interfaces.jar" project="excalibur-altrmi-0.9.2" id="server-api"/>
            <depend property="altrmi-server-impl.jar" project="excalibur-altrmi-0.9.2" id="server-impl"/>

            <property name="version" value="@@DATE@@"/>
            <property name="junit.failonerror" value="true"/>
            <property name="do.checkstyle" value="true"/>
            <property name="skip.dependencies" value="true"/>
        </ant>

        <depend project="excalibur-instrument-manager" inherit="all" runtime="true"/>

        <work nested="instrument-manager/build/classes"/>
        <work nested="instrument-manager/build/testclasses"/>

        <home nested="instrument-manager"/>
        <jar name="build/lib/excalibur-instrument-manager-@@DATE@@.jar"/>
        <jar name="build/lib/excalibur-instrument-manager-interfaces-@@DATE@@.jar"/>

        <nag from="Gump Integration Build &lt;dev@avalon.apache.org&gt;"
                to="dev@avalon.apache.org"/>
    </project>

    <project name="excalibur-instrument-client">
        <package>org.apache.avalon.excalibur.instrument.client</package>

        <mkdir dir="instrument-client/build/classes"/>

        <ant basedir="instrument-client">
            <!-- runtime dependencies -->
<!--            <depend property="altrmi-common.jar" project="incubator-altrmi" id="common"/>
            <depend property="altrmi-client-interfaces.jar" project="incubator-altrmi" id="client-api"/>
            <depend property="altrmi-client-impl.jar" project="incubator-altrmi" id="client-impl"/>
            <depend property="altrmi-server-interfaces.jar" project="incubator-altrmi" id="server-api"/>
            <depend property="altrmi-server-impl.jar" project="incubator-altrmi" id="server-impl"/>-->
            <depend property="altrmi-common.jar" project="excalibur-altrmi-0.9.2" id="common"/>
            <depend property="altrmi-client-interfaces.jar" project="excalibur-altrmi-0.9.2" id="client-api"/>
            <depend property="altrmi-client-impl.jar" project="excalibur-altrmi-0.9.2" id="client-impl"/>
            <depend property="altrmi-server-interfaces.jar" project="excalibur-altrmi-0.9.2" id="server-api"/>
            <depend property="altrmi-server-impl.jar" project="excalibur-altrmi-0.9.2" id="server-impl"/>
            <depend property="avalon-framework.jar" project="avalon-framework" runtime="true" id="combined"/>
            <depend property="excalibur-instrument-manager.jar"
                    project="excalibur-instrument-manager"
                    runtime="true" id="main"/>

            <!-- optional dependencies -->
            <property name="checkstyle.jar" project="checkstyle" reference="jarpath"/>

            <property name="version" value="@@DATE@@"/>
            <property name="junit.failonerror" value="true"/>
            <property name="do.checkstyle" value="true"/>
            <property name="skip.dependencies" value="true"/>
        </ant>

        <!-- build-time dependencies -->
        <depend project="ant" inherit="runtime"/>
        <depend project="xml-xerces"/>
        <depend project="xml-xalan2"/>

        <!-- optional dependencies -->
        <option project="avalon-framework" runtime="true" id="combined"/>
        <option project="checkstyle" inherit="runtime"/>

        <work nested="instrument-client/build/classes"/>

        <home nested="instrument-client"/>
        <jar name="build/lib/excalibur-instrument-client-@@DATE@@.jar"/>

        <nag from="Gump Integration Build &lt;dev@avalon.apache.org&gt;"
                to="dev@avalon.apache.org"/>
    </project>

    <project name="excalibur-lifecycle">
        <package>org.apache.avalon.lifecycle</package>

	    <ant basedir="lifecycle">
            <!-- runtime dependencies -->
            <depend property="avalon-framework.jar" project="avalon-framework" runtime="true" id="combined"/>

            <!-- test-time dependencies -->
            <depend property="junit.jar" project="junit"/>

            <!-- optional dependencies -->
            <property name="checkstyle.jar" project="checkstyle" reference="jarpath"/>

            <property name="version" value="@@DATE@@"/>
            <property name="junit.failonerror" value="true"/>
            <property name="do.checkstyle" value="false"/>
            <property name="skip.dependencies" value="true"/>
        </ant>

        <!-- build-time dependencies -->
        <depend project="ant" inherit="runtime"/>
        <depend project="xml-xerces"/>
        <depend project="xml-xalan2"/>

        <!-- optional dependencies -->
        <option project="checkstyle" inherit="runtime"/>

        <work nested="lifecycle/build/classes"/>
        <work nested="lifecycle/build/testclasses"/>

        <home nested="lifecycle"/>
        <jar name="build/lib/excalibur-lifecycle-@@DATE@@.jar"/>

        <nag from="Gump Integration Build &lt;dev@avalon.apache.org&gt;"
                to="dev@avalon.apache.org"/>
    </project>

    <project name="excalibur-logger">
        <package>org.apache.avalon.excalibur.logger</package>

        <ant basedir="logger" target="jar">
            <depend property="logkit.jar" project="avalon-logkit" runtime="true"/>
            <property name="package-version" value="@@DATE@@"/>
            <property name="junit.failonerror" value="true"/>
            <property name="do.checkstyle" value="true"/>
            <property name="skip.dependencies" value="true"/>
        </ant>

        <depend project="ant" inherit="runtime"/>
        <depend project="excalibur-i18n" inherit="runtime" runtime="true"/>
        <option project="checkstyle" inherit="runtime"/>
        <depend project="junit"/>
        <depend project="avalon-framework" runtime="true" id="combined"/>
        <depend project="jakarta-log4j" runtime="true"/>
        <depend project="xml-xerces"/>
        <depend project="xml-xalan2"/>

        <!-- test-time dependencies -->
        <!--

        circular dependency involving component & pool, so no tests
        run.

        <depend project="excalibur-component" id="testcase"/>
        <depend project="excalibur-component" id="component"/>
        <depend project="excalibur-pool"/>
        <depend project="excalibur-instrument"/>
        <depend project="commons-collections"/>-->

        <option project="jdbc" runtime="true"/>
        <option project="jms" runtime="true"/>
        <option project="javamail" runtime="true"/>
        <option project="jaf" runtime="true"/>
        <option project="jakarta-servletapi-4" runtime="true"/>

        <work nested="logger/build/classes"/>
        <work nested="logger/build/testclasses"/>

        <home nested="logger"/>
        <jar name="build/lib/excalibur-logger-@@DATE@@.jar"/>

        <nag from="Gump Integration Build &lt;dev@avalon.apache.org&gt;"
                to="dev@avalon.apache.org"/>
    </project>

    <project name="excalibur-monitor">
        <package>org.apache.excalibur.monitor</package>

        <ant basedir="monitor">
            <property name="version" value="@@DATE@@"/>
            <property name="junit.failonerror" value="true"/>
            <property name="do.checkstyle" value="false"/>
            <property name="skip.dependencies" value="true"/>
            <depend property="excalibur-fortress-tools.jar" project="avalon-fortress-tools"/>
            <depend property="qdox.jar" project="phoenix-qdox"/>
        </ant>

        <home nested="monitor"/>
        <work nested="monitor/build/classes"/>
        <work nested="monitor/build/testclasses"/>

        <jar name="build/lib/excalibur-monitor-@@DATE@@.jar"/>

        <nag from="Gump Integration Build &lt;dev@avalon.apache.org&gt;"
                to="dev@avalon.apache.org"/>

        <depend project="ant" inherit="runtime"/>
        <depend project="avalon-framework" runtime="true" id="combined"/>
        <depend project="excalibur-pool" inherit="runtime"/>
        <depend project="excalibur-meta-sourceresolve" inherit="runtime"/>
        <depend project="xml-xerces"/>
        <depend project="xml-xalan2"/>


        <!-- test-time dependencies -->
        <depend project="commons-collections" inherit="runtime"/>
        <depend project="excalibur-i18n" inherit="runtime"/>
        <depend project="excalibur-component" inherit="runtime"/> <!-- for testcase -->
        <depend project="excalibur-compatibility" inherit="runtime"/>
        <depend project="excalibur-instrument" inherit="runtime"/>
        <depend project="junit"/>
    </project>

    <project name="excalibur-pool">
        <package>org.apache.avalon.excalibur.pool</package>

        <ant basedir="pool" target="jar">
            <depend property="commons-collections" project="commons-collections"/>
            <depend property="excalibur-instrument.jar" project="excalibur-instrument"/>
            <depend property="logkit.jar" project="avalon-logkit" runtime="true"/>

            <property name="package-version" value="@@DATE@@"/>
            <property name="junit.failonerror" value="true"/>
            <property name="do.checkstyle" value="true"/>
            <property name="skip.dependencies" value="true"/>
        </ant>

        <depend project="ant" inherit="runtime"/>
        <option project="checkstyle" inherit="runtime"/>
        <depend project="concurrent"/>
        <depend project="avalon-framework" runtime="true" id="combined"/>
        <depend project="xml-xerces"/>
        <depend project="xml-xalan2"/>

        <!-- test-time dependencies -->
        <!--

        circular dependency involving component & pool, so no tests
        run.

        <depend project="junit"/>
        <depend project="junitperf"/>
        <depend project="excalibur-component" id="testcase"/>
        <depend project="avalon-logkit"/>-->

        <work nested="pool/build/classes"/>
        <work nested="pool/build/testclasses"/>

        <home nested="pool"/>
        <jar name="build/lib/excalibur-pool-@@DATE@@.jar"/>

        <nag from="Gump Integration Build &lt;dev@avalon.apache.org&gt;"
                to="dev@avalon.apache.org"/>
    </project>

    <project name="excalibur-sourceresolve">
        <package>org.apache.excalibur.source</package>

        <ant basedir="sourceresolve">
            <depend property="excalibur-pool.jar" project="excalibur-pool" runtime="true"/>
            <property name="package-version" value="@@DATE@@"/>
            <property name="junit.failonerror" value="true"/>
            <property name="do.checkstyle" value="true"/>
            <property name="skip.dependencies" value="true"/>
        </ant>

        <depend project="ant" inherit="runtime"/>
        <option project="checkstyle" inherit="runtime"/>
        <depend project="junit"/>
        <depend project="avalon-framework" runtime="true" id="combined"/>
        <depend project="xml-xerces"/>
        <depend project="xml-xalan2"/>
        <depend project="jakarta-regexp"/>

        <work nested="sourceresolve/build/classes"/>
        <work nested="sourceresolve/build/testclasses"/>

        <home nested="sourceresolve"/>
        <jar name="build/lib/excalibur-sourceresolve-@@DATE@@.jar"/>

        <nag from="Gump Integration Build &lt;dev@avalon.apache.org&gt;"
                to="dev@avalon.apache.org"/>
    </project>

    <project name="excalibur-meta-sourceresolve">
        <package>org.apache.excalibur.source</package>

        <ant basedir="sourceresolve">
            <depend property="excalibur-fortress-tools.jar" project="avalon-fortress-tools"/>
            <depend property="qdox.jar" project="phoenix-qdox"/>
            <depend property="excalibur-pool.jar" project="excalibur-pool" runtime="true"/>
            <property name="package-version" value="@@DATE@@"/>
            <property name="junit.failonerror" value="true"/>
            <property name="do.checkstyle" value="true"/>
            <property name="skip.dependencies" value="true"/>
        </ant>

        <depend project="ant" inherit="runtime"/>
        <option project="checkstyle" inherit="runtime"/>
        <depend project="junit"/>
        <depend project="avalon-framework" runtime="true" id="combined"/>
        <depend project="xml-xerces"/>
        <depend project="xml-xalan2"/>

        <work nested="sourceresolve/build/classes"/>
        <work nested="sourceresolve/build/testclasses"/>

        <home nested="sourceresolve"/>
        <jar name="build/lib/excalibur-sourceresolve-@@DATE@@.jar"/>

        <nag from="Gump Integration Build &lt;dev@avalon.apache.org&gt;"
                to="dev@avalon.apache.org"/>
    </project>

    <project name="excalibur-store">
        <package>org.apache.excalibur.store</package>

        <ant basedir="store">
            <depend property="excalibur-fortress-tools.jar" project="avalon-fortress-tools"/>
            <depend property="qdox.jar" project="phoenix-qdox"/>
            <property name="version" value="@@DATE@@"/>
            <property name="junit.failonerror" value="true"/>
            <property name="do.checkstyle" value="true"/>
            <property name="skip.dependencies" value="true"/>
        </ant>

        <depend project="ant" inherit="runtime"/>
        <option project="checkstyle" inherit="runtime"/>
        <depend project="junit"/>
        <depend project="avalon-framework" runtime="true" id="combined"/>
        <depend project="xml-xerces"/>
        <depend project="xml-xalan2"/>
        <depend project="jisp"/>

        <work nested="store/build/classes"/>
        <work nested="store/build/testclasses"/>

        <home nested="store"/>
        <jar name="build/lib/excalibur-store-@@DATE@@.jar"/>

        <nag from="Gump Integration Build &lt;dev@avalon.apache.org&gt;"
                to="dev@avalon.apache.org"/>
    </project>

    <project name="excalibur-thread">
        <package>org.apache.avalon.excalibur.thread</package>

        <ant basedir="thread">
            <depend project="commons-collections" runtime="true"/>
            <depend property="excalibur-pool.jar" project="excalibur-pool" runtime="true"/>
            <depend property="excalibur-instrument.jar" project="excalibur-instrument" runtime="true"/>
            <depend property="logkit.jar" project="avalon-logkit" runtime="true"/>

            <property name="package-version" value="@@DATE@@"/>
            <property name="junit.failonerror" value="true"/>
            <property name="do.checkstyle" value="true"/>
            <property name="skip.dependencies" value="true"/>
        </ant>

        <depend project="ant" inherit="runtime"/>
        <option project="checkstyle" inherit="runtime"/>
        <depend project="avalon-framework" runtime="true" id="combined"/>
        <depend project="xml-xerces"/>
        <depend project="xml-xalan2"/>

        <!-- test-time dependencies -->
        <depend project="junit"/>
        <depend project="junitperf"/>
        <depend project="excalibur-component" id="testcase"/>
        <depend project="concurrent"/>

        <work nested="thread/build/classes"/>
        <work nested="thread/build/testclasses"/>

        <home nested="thread"/>
        <jar name="build/lib/excalibur-thread-@@DATE@@.jar"/>

        <nag from="Gump Integration Build &lt;dev@avalon.apache.org&gt;"
                to="dev@avalon.apache.org"/>
    </project>

    <project name="excalibur-xmlutil">
        <package>org.apache.avalon.excalibur.xml</package>

        <ant basedir="xmlutil">
            <depend property="excalibur-logger.jar" project="excalibur-logger"/>
            <depend property="logkit.jar" project="avalon-logkit" runtime="true"/>
            <depend property="excalibur-instrument.jar" project="excalibur-instrument"/>
            <depend property="excalibur-component.jar" project="excalibur-component" id="component"/>
            <depend property="excalibur-pool.jar" project="excalibur-pool"/>
            <depend property="excalibur-sourceresolve.jar" project="excalibur-meta-sourceresolve"/>
            <depend property="excalibur-store.jar" project="excalibur-store"/>

            <!-- test-time dependencies -->
            <depend property="excalibur-testcase.jar" project="excalibur-component" id="testcase"/>
            <depend property="excalibur-i18n.jar" project="excalibur-i18n"/>
            <depend property="commons-collections.jar" project="commons-collections"/>
            <depend property="jaxen.jar" project="jaxen"/>
            <depend property="saxpath.jar" project="saxpath"/>
            <depend property="jtidy.jar" project="jtidy"/>
            <depend property="resolver.jar" project="xml-commons-resolver"/>
            <depend property="excalibur-fortress-tools.jar" project="avalon-fortress-tools"/>

            <depend property="qdox.jar" project="phoenix-qdox"/>

            <property name="version" value="@@DATE@@"/>
            <property name="junit.failonerror" value="true"/>
            <property name="do.checkstyle" value="true"/>
            <property name="skip.dependencies" value="true"/>
        </ant>

        <depend project="ant" inherit="runtime"/>
        <option project="checkstyle" inherit="runtime"/>
        <option project="jaxen" inherit="runtime"/>
        <depend project="junit"/>
        <depend project="avalon-framework" runtime="true" id="combined"/>
        <depend project="xml-xerces"/>
        <depend project="xml-xalan2"/>
        <work nested="xmlutil/build/classes"/>
        <work nested="xmlutil/build/testclasses"/>

        <home nested="xmlutil"/>
        <jar name="build/lib/excalibur-xmlutil-@@DATE@@.jar"/>

        <nag from="Gump Integration Build &lt;dev@avalon.apache.org&gt;"
                to="dev@avalon.apache.org"/>
    </project>

    <!-- DUMMY, remove once Cocoon has removed its dependency -->
    <project name="excalibur-naming"/>

    <!-- ===================================================================
          Binary packages

    This is stuff not built from source by gump.
    =================================================================== -->

    <!-- this is temporarily in place so that we can get some clean gump
         runs set up without having to keep up with all the altrmi
         refactorings -->
    <project name="excalibur-altrmi-0.9.2">
        <package>org.apache.altrmi</package>

        <jar id="client-impl" name="lib/altrmi-client-impl-0.9.2.jar"/>
        <jar id="client-api" name="lib/altrmi-client-interfaces-0.9.2.jar"/>
        <jar id="common" name="lib/altrmi-common-0.9.2.jar"/>
        <jar id="generator" name="lib/altrmi-generator-0.9.2.jar"/>
        <jar id="server-impl" name="lib/altrmi-server-impl-0.9.2.jar"/>
        <jar id="server-api" name="lib/altrmi-server-interfaces-0.9.2.jar"/>

        <nag from="Gump Integration Build &lt;general@incubator.apache.org&gt;"
                to="dev@avalon.apache.org"/>
    </project>

</module>
