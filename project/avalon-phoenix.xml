<module name="avalon-loom">

    <url href="http://avalon.apache.org/loom"/>
    <description>
        The Avalon Application Server Kernel
    </description>

    <cvs repository="avalon"/>

    <project name="avalon-loom">
        <package>org.apache.avalon.loom</package>

        <ant target="jars">
            <property name="checkstyle.failOnError" value="true"/>
            <depend property="mx4j.jar" project="mx4j" id="jmx"/>
            <depend property="mx4j-tools.jar" project="mx4j" id="tools"/>
        </ant>

        <depend property="xerces.jar" project="xml-xerces" id="parser" runtime="true"/>
        <depend project="dist-avalon-logkit" runtime="true"/>
        <depend project="avalon-framework" runtime="true" id="combined"/>
        <depend project="excalibur-compatibility" runtime="true"/>
        <depend project="spice-configkit" runtime="true" inherit="runtime"/>
        <depend project="spice-classman" runtime="true" inherit="runtime"/>
        <depend project="spice-xmlpolicy" runtime="true" inherit="runtime"/>
        <depend project="spice-loggerstore" runtime="true" inherit="runtime"/>
        <depend project="excalibur-logger" runtime="true"/>
        <depend project="excalibur-i18n" runtime="true"/>
        <depend project="excalibur-instrument-manager" runtime="true"/>
        <depend project="excalibur-instrument" runtime="true"/>
        <depend project="loom-excalibur-monitor" runtime="true"/>
        <depend project="ant" runtime="true"/>
        <depend project="mx4j" runtime="true"/>
        <depend project="xml-xalan2"/>
        <depend project="loom-qdox" runtime="true"/>
        <option project="jakarta-servletapi-4" runtime="true"/>
        <depend project="junit"/>
        <depend project="jakarta-log4j"/>

        <work nested="target/classes"/>

        <home nested="target/lib"/>
        <jar name="loom-client.jar" id="client"/>

        <jar name="loom-tools.jar" id="metagenerate"/>
        <jar name="loom-loader.jar" id="loader"/>
        <jar name="loom-engine.jar" id="metagenerate-2"/>
        <jar name="loom-punit.jar" id="punit"/>

        <license name="LICENSE.txt"/>
        <javadoc nested="target/javadocs" module="avalon"/>

<!--
        <nag>
            <regexp pattern="/Missing prereq/i"
                from="Gump Integration Build &lt;dev@avalon.apache.org&gt;"
                to="dev@avalon.apache.org"
                subject="PRE-REQ FAILED for avalon-loom"/>
        </nag>
 -->
        <nag from="Gump Integration Build &lt;dev@avalon.apache.org&gt;"
            to="dev@avalon.apache.org"/>
    </project>

    <project name="loom-qdox">
        <jar name="lib/tools/qdox-1.1.jar"/>
    </project>

    <project name="loom-excalibur-monitor">
        <jar name="lib/container/excalibur-monitor-1.0.jar"/>
    </project>

    <project name="loom-example-demo">
        <package>org.apache.avalon.demos</package>

        <mkdir dir="examples/demo/build/classes"/>
        <ant basedir="examples/demo"/>

        <depend project="junit"/>
        <depend project="ant"/>
        <depend project="xml-xerces" id="parser" runtime="true"/>
        <depend project="xml-xalan2" id="transformer" runtime="true"/>
        <option project="checkstyle" inherit="runtime"/>
        <depend project="avalon-framework" id="combined"/>
        <depend project="avalon-loom" inherit="all"/>
        <depend project="avalon-components"/>

        <home nested="examples/demo"/>
        <work nested="examples/demo/target/classes"/>

<!--
        <nag>
            <regexp pattern="/Missing prereq/i"
                from="Gump Integration Build &lt;dev@avalon.apache.org&gt;"
                to="dev@avalon.apache.org"
                subject="PRE-REQ FAILED for loom-example-demo"/>
        </nag>
-->
        <nag from="Gump Integration Build &lt;dev@avalon.apache.org&gt;"
            to="dev@avalon.apache.org"/>
    </project>

    <project name="loom-example-pdk">
        <package>org.apache.avalon.pdk</package>

        <ant basedir="examples/pdk"/>

        <depend project="junit"/>
        <depend project="ant"/>
        <depend project="xml-xerces"/>
        <depend project="avalon-framework" id="combined"/>
        <depend project="avalon-loom" inherit="all"/>

        <option project="checkstyle" inherit="runtime"/>

        <home nested="examples/pdk"/>

        <jar name="target/lib/pdk-@@DATE@@.sar"/>

<!--
        <nag>
            <regexp pattern="/Missing prereq/i"
                from="Gump Integration Build &lt;dev@avalon.apache.org&gt;"
                to="dev@avalon.apache.org"
                subject="PRE-REQ FAILED for loom-example-pdk"/>
        </nag>
-->
        <nag from="Gump Integration Build &lt;dev@avalon.apache.org&gt;"
                to="dev@avalon.apache.org"/>
    </project>

    <project name="loom-example-testserver">
        <package>org.apache.avalon.testserver</package>

        <ant basedir="examples/testserver"/>

        <depend project="junit"/>
        <depend project="ant"/>
        <depend project="xml-xerces"/>
        <depend project="avalon-framework" id="combined"/>
        <depend project="avalon-loom" inherit="all"/>
        <depend project="avalon-components"/>
        <depend project="excalibur-thread"/>

        <option project="checkstyle" inherit="runtime"/>

        <home nested="examples/testserver"/>

        <jar name="target/lib/avalon-testserver.sar"/>

<!--
        <nag>
            <regexp pattern="/Missing prereq/i"
                from="Gump Integration Build &lt;dev@avalon.apache.org&gt;"
                to="dev@avalon.apache.org"
                subject="PRE-REQ FAILED for loom-example-testserver"/>
        </nag>
-->
        <nag from="Gump Integration Build &lt;dev@avalon.apache.org&gt;"
            to="dev@avalon.apache.org"/>
    </project>

</module>
