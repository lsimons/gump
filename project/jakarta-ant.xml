<module name="jakarta-ant">

  <url  href="http://jakarta.apache.org/ant/index.html"/>
  <description>
    Java based build tool
  </description>

  <cvs repository="jakarta"/>

  <project name="jakarta-ant">
    <package>org.apache.tools.ant</package>

    <ant target="dist-lite">
      <property name="ant.home" reference="home" project="jakarta-ant"/>
    </ant>

    <depend project="bootstrap-ant"/>
    <depend project="xml-xerces"/>
    <depend project="xml-xalan2"/>
    <option project="xml-stylebook2"/>
    <option project="junit"/>

    <home nested="dist"/>
    <jar name="lib/ant.jar" id="ant"/>
    <jar name="lib/optional.jar" id="optional"/>
  </project>

  <project name="dist-ant">
    <ant target="distribution"/>

    <depend project="jakarta-ant" inherit="all"/>
    <option project="bsf"/>
    <option project="jakarta-regexp"/>
    <option project="jakarta-oro"/>
    <option project="jakarta-log4j"/>
    <option project="jaf"/>
    <option project="javamail"/>
    <option project="jakarta-bcel"/>
    <option project="antlr"/>

    <home nested="build"/>
    <jar name="lib/ant.jar"/>
    <jar name="lib/optional.jar"/>
    <javadoc nested="build/javadocs" project="jakarta-ant"/>

    <deliver fromdir="distribution/src" tosite="stefans-test"
             todir="ant/nightly/@@DATE@@/" />
    <deliver fromdir="distribution/bin" tosite="stefans-test"
             todir="ant/nightly/@@DATE@@/" />
    <deliver fromdir="distribution/rpms" tosite="stefans-test"
             todir="ant/nightly/@@DATE@@/" />

    <deliver fromdir="distribution/src" tosite="jakarta.apache.org"
             todir="builds/jakarta-ant/nightly/@@DATE@@/" />
    <deliver fromdir="distribution/bin" tosite="jakarta.apache.org"
             todir="builds/jakarta-ant/nightly/@@DATE@@/" />
    <deliver fromdir="distribution/rpms" tosite="jakarta.apache.org"
             todir="builds/jakarta-ant/nightly/@@DATE@@/" />
  </project>

  <project name="test-ant">
    <mkdir dir="build/testcases"/>
    <ant target="run-tests"/>

    <depend project="dist-ant" inherit="hard"/>
    <option project="xml-commons-which"/>

    <work nested="build/classes"/>
    <work nested="build/testcases"/>
    <work nested="src/testcases"/>
    <work nested="src/etc/testcases"/>
  </project>

  <project name="bootstrap-ant">
    <script name="bootstrap"/>

    <depend project="jaxp"/>

    <home nested="bootstrap"/>
    <jar name="lib/ant.jar"/>
  </project>

  <project name="jakarta-ant-myrmidon">
    <ant basedir="proposal/myrmidon" target="jars"/>

    <depend project="jakarta-ant"/>
    <depend project="xml-xerces"/>
    <depend project="jakarta-avalon"/>
    <depend project="excalibur-cli"/>
    <depend project="excalibur-io"/>
    <depend project="excalibur-tar"/>
    <depend project="excalibur-extension"/>
    <depend project="excalibur-i18n"/>
    <depend project="jakarta-avalon-excalibur"/>
    <depend project="jakarta-log4j"/>
    <depend project="xdoclet"/>
    <depend project="jakarta-oro"/>
    <work nested="proposal/myrmidon/build/tasks"/>
    <option project="xml-xalan2"/>
  </project>

  <project name="jakarta-ant-myrmidon-test">
    <ant basedir="proposal/myrmidon" target="test"/>

    <depend project="jakarta-ant-myrmidon" inherit="all"/>
    <work nested="proposal/myrmidon/build/tasks"/>
    <work nested="proposal/myrmidon/build/test/classes"/>
  </project>

  <project name="jakarta-ant-mutant">
    <ant basedir="proposal/mutant"/>

    <depend project="jakarta-ant"/>
    <depend project="xml-xerces"/>
    <option project="checkstyle"/>
    <option project="jakarta-regexp"/>
    <option project="antlr"/>
    <work nested="proposal/mutant/bin/common"/>
    <work nested="proposal/mutant/bin/init"/>
    <work nested="proposal/mutant/bin/antcore"/>
    <work nested="proposal/mutant/bin/antlibs/system"/>
  </project>

</module>
