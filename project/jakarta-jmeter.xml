<?xml version="1.0" ?>
<!--
  Copyright 2001-2004 The Apache Software Foundation

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

       http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->
<module name="jakarta-jmeter">
<!-- Version $Revision: 1.77 $ Last updated $Date: 2004/03/08 18:39:22 $ -->
  <url href="http://jakarta.apache.org/jmeter/" />
  <description>
    Pure Java load testing and performance measurement tool.
  </description>

  <cvs repository="jakarta" />
  
  	<project name="jakarta-jmeter">
  	<!-- Compile from latest versions of dependencies -->
    <package>org.apache.jmeter</package>

    <ant target="gump-compile">
      <property name="version" value="@@DATE@@"/>
      <property name="gump.run" value="true"/>
      <!-- The version of this file -->
      <property name="version.projectfile" value="$Revision: 1.77 $"/>
      
      <!--
      	These properties are passed to the build process, so the names need to agree with
      	the ones used in build.xml. However, at present the properties are only used for
      	creating the list of jars to be exported.
      -->
      <depend property="avalon-framework.jar" project="avalon-framework" id="combined"/>
      <depend property="jakarta-oro.jar" project="jakarta-oro"/>
      <depend property="junit.jar" project="junit"/>
      <depend property="logkit.jar" project="avalon-logkit"/>
      <!-- are the x jars still needed ? -->
      <depend property="xalan.jar" project="xml-xalan2" id="transformer"/>
      <depend property="xerces.jar" project="xml-xerces" id="parser"/>
      <depend property="xml-apis.jar" project="xml-apis"/>
      
      <depend property="jdom.jar" project="jdom"/>
      <depend property="js.jar" project="rhino"/>
      <depend property="soap.jar" project="ws-soap"/>
    </ant>

    <depend project="ant" />

    <!-- Probably no longer needed with Java 1.4 -->
    <depend project="jaf" />
    <depend project="javamail" />
    <depend project="jsse" />

    <depend project="commons-collections"/>
    <depend project="jakarta-velocity" />
    <depend project="jtidy" />
    <depend project="excalibur-compatibility" />

    <option project="beanshell" ids="bsh-core"/>
    <option project="jakarta-bsf"/>

    <work nested="build/core"/>
    <work nested="build/htmlparser"/>
    <work nested="build/jorphan"/>
    
    <!-- Allow http to build: -->
    <work nested="build/components"/>

    <!-- Export the JMeter jars -->
    <home nested="." />
<!--
    <jar name="bin/ApacheJMeter.jar" />
    <jar name="lib/ext/ApacheJMeter_components.jar" />
    <jar name="lib/ext/ApacheJMeter_core.jar" />
    <jar name="lib/ext/ApacheJMeter_ftp.jar" />
    <jar name="lib/ext/ApacheJMeter_functions.jar" />
    <jar name="lib/ext/ApacheJMeter_http.jar" />
    <jar name="lib/ext/ApacheJMeter_java.jar" />
    <jar name="lib/ext/ApacheJMeter_jdbc.jar" />
    <jar name="lib/ext/ApacheJMeter_ldap.jar" />
    <jar name="dist/jakarta-jmeter-@@DATE@@_bin.zip" />
    <jar name="dist/jakarta-jmeter-@@DATE@@_src.zip" />
    <jar name="dist/jakarta-jmeter-@@DATE@@_lib.zip" />
    <license name="LICENSE"/>
-->

    <nag from="Sebb &lt;sebb@apache.org&gt;"
         to="jmeter-dev@jakarta.apache.org">
        <regexp pattern="/BUILD FAILED/" subject="JMeter Build Failure"/>
    </nag>
  </project>

  <project name="jakarta-jmeter-cvs">
  	<!-- Build JMeter from CVS versions of dependencies -->
    <package>org.apache.jmeter</package>

    <ant target="gump-build">
      <property name="version" value="@@DATE@@"/>
      <property name="gump.run" value="true"/>
      <!-- The version of this file -->
      <property name="version.projectfile" value="$Revision: 1.77 $"/>
    </ant>

    <depend project="ant" />
    <depend project="jaf" />
    <depend project="javamail" />
    <depend project="jsse" />
    
    <option project="beanshell" ids="bsh-core"/>
    <option project="jakarta-bsf"/>

    <!-- Try to ensure that cvs builds after jmeter -->
    <option project="jakarta-jmeter"/>
    
    <work nested="build/core"/>
    <work nested="build/htmlparser"/>
    <work nested="build/jorphan"/>
    
    <!-- Allow http to build: -->
    <work nested="build/components"/>

    <work nested="lib/avalon-excalibur-4.1.jar"/>
    <work nested="lib/avalon-framework-4.1.4.jar"/>
    <work nested="lib/commons-collections.jar"/>
    <work nested="lib/jakarta-oro-2.0.8.jar"/>
    <work nested="lib/jdom-b9.jar"/>
    <work nested="lib/junit.jar"/>
    <work nested="lib/js.jar"/>
    <work nested="lib/logkit-1.2.jar"/>
    <work nested="lib/soap.jar"/>
    <work nested="lib/Tidy.jar"/>

    <!-- needed ? -->
    <work nested="lib/velocity-1.4-dev.jar"/>
    
    <!-- are these still needed ? -->
    <work nested="lib/xalan.jar"/>
    <work nested="lib/xercesImpl.jar"/>
    <work nested="lib/xml-apis.jar"/>

    <!-- Export the JMeter jars -->
    <home nested="." />

    <jar name="dist/jakarta-jmeter-@@DATE@@_bin.zip" />
    <jar name="dist/jakarta-jmeter-@@DATE@@_src.zip" />
    <jar name="dist/jakarta-jmeter-@@DATE@@_lib.zip" />
    <license name="LICENSE"/>
    <jar name="NOTICE" />
    <jar name="INSTALLING" />

    <nag from="Sebb &lt;sebb@apache.org&gt;"
         to="jmeter-dev@jakarta.apache.org">
        <regexp pattern="/BUILD FAILED/" subject="JMeter CVS Build Failure"/>
    </nag>
  </project>

  <project name="jakarta-jmeter-test">
    <package>org.apache.jmeter</package>
    <ant target="gump-test">
      <property name="version" value="@@DATE@@"/>
      <property name="gump.run" value="true"/>
      <!-- The version of this file -->
      <property name="version.projectfile" value="$Revision: 1.77 $"/>
    </ant>

    <depend project="ant" />

    <depend project="jakarta-jmeter-cvs" inherit="none"/>

<!-- are these needed ? -->
    <work nested="lib/avalon-excalibur-4.1.jar"/>
    <work nested="lib/avalon-framework-4.1.4.jar"/>
    <work nested="lib/commons-collections.jar"/>
    <work nested="lib/jakarta-oro-2.0.8.jar"/>
    <work nested="lib/jdom-b9.jar"/>
    <work nested="lib/junit.jar"/>
    <work nested="lib/js.jar"/>
    <work nested="lib/logkit-1.2.jar"/>
    <work nested="lib/soap.jar"/>
    <work nested="lib/Tidy.jar"/>
    <!-- work nested="lib/velocity-1.4-dev.jar"/ -->
    <work nested="lib/xalan.jar"/>
    <work nested="lib/xercesImpl.jar"/>
    <work nested="lib/xml-apis.jar"/>

    <!-- Add jars needed to run tests -->
    <work nested="lib/jorphan.jar"/>
    <work nested="lib/htmlparser.jar"/>
    <work nested="lib/ext/ApacheJMeter_components.jar"/>
    <work nested="lib/ext/ApacheJMeter_core.jar"/>
    <work nested="lib/ext/ApacheJMeter_ftp.jar"/>
    <work nested="lib/ext/ApacheJMeter_functions.jar"/>
    <work nested="lib/ext/ApacheJMeter_http.jar"/>
    <work nested="lib/ext/ApacheJMeter_java.jar"/>
    <work nested="lib/ext/ApacheJMeter_jdbc.jar"/>
    <work nested="lib/ext/ApacheJMeter_ldap.jar"/>
    <work nested="lib/ext/ApacheJMeter_tcp.jar"/>

    <nag from="Sebb &lt;sebb@apache.org&gt;"
         to="jmeter-dev@jakarta.apache.org">
        <regexp pattern="/FAILURES!!!|OK \(0 tests\)/" subject="JMeter Unit Test Failure"/>
    </nag>
  </project>
  
  <project name="jakarta-jmeter-javadoc">
    <package>org.apache.jmeter</package>
    <ant target="gump-javadoc">
      <property name="version" value="@@DATE@@"/>
      <property name="gump.run" value="true"/>
      <!-- The version of this file -->
      <property name="version.projectfile" value="$Revision: 1.77 $"/>
    </ant>

    <depend project="ant" />

    <!-- Probably no longer needed with Java 1.4 -->
    <depend project="jaf" />
    <depend project="javamail" />
    <depend project="jsse" />

    <option project="beanshell" ids="bsh-core"/>
    <option project="jakarta-bsf"/>

    <work nested="lib/avalon-excalibur-4.1.jar"/>
    <work nested="lib/avalon-framework-4.1.4.jar"/>
    <work nested="lib/commons-collections.jar"/>
    <work nested="lib/jakarta-oro-2.0.8.jar"/>
    <work nested="lib/jdom-b9.jar"/>
    <work nested="lib/junit.jar"/>
    <work nested="lib/js.jar"/>
    <work nested="lib/logkit-1.2.jar"/>
    <work nested="lib/soap.jar"/>
    <work nested="lib/Tidy.jar"/>
    <!-- work nested="lib/velocity-1.4-dev.jar"/ -->
    <work nested="lib/xalan.jar"/>
    <work nested="lib/xercesImpl.jar"/>
    <work nested="lib/xml-apis.jar"/>

    <!-- Export the JMeter jars -->
    <home nested="." />
    <jar name="dist/jakarta-jmeter-@@DATE@@_api.zip" />

  </project>



</module>
