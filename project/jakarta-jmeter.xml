<module name="jakarta-jmeter">

  <url href="http://jakarta.apache.org/jmeter/" />
  <description>
    Pure Java load testing and performance measurement tool.
  </description>

  <cvs repository="jakarta" />

  <project name="jakarta-jmeter">
    <package>org.apache.jmeter</package>

    <ant target="dist">
      <property name="version" value="@@DATE@@"/>

      <depend property="avalon-framework.jar" project="avalon-framework" id="combined"/>
      <depend property="jakarta-oro.jar" project="jakarta-oro"/>
      <depend property="junit.jar" project="junit"/>
      <depend property="logkit.jar" project="avalon-logkit"/>
      <depend property="xalan.jar" project="xml-xalan2" id="transformer"/>
      <depend property="xerces.jar" project="xml-xerces" id="parser"/>
      <depend property="xml-apis.jar" project="xml-apis"/>
      <depend property="jdom.jar" project="jdom"/>
      <depend property="js.jar" project="rhino"/>
      <depend property="soap.jar" project="xml-soap"/>
    </ant>

    <depend project="ant" />
    <depend project="commons-collections"/>
    <depend project="jakarta-velocity" />
    <depend project="jaf" />
    <depend project="javamail" />
    <depend project="jsse" />
    <depend project="jtidy" />
    <depend project="excalibur-compatibility" />
    <depend project="beanshell" ids="bsh-core"/>

    <work nested="build/core"/>
    <work nested="build/htmlparser"/>
    <work nested="build/jorphan"/>

    <!-- These are necessary to run the tests: -->
    <work nested="lib/ext/ApacheJMeter_core.jar"/>
    <work nested="lib/ext/ApacheJMeter_components.jar"/>
    <work nested="lib/ext/ApacheJMeter_functions.jar"/>
    <work nested="lib/ext/ApacheJMeter_http.jar"/>
    <work nested="lib/ext/ApacheJMeter_ftp.jar"/>
    <work nested="lib/ext/ApacheJMeter_jdbc.jar"/>
    <work nested="lib/ext/ApacheJMeter_java.jar"/>

    <!-- Export the JMeter jars -->
    <home nested="." />
<!--
    <jar name="bin/ApacheJMeter.jar" />
    <jar name="lib/ext/ApacheJMeter_components.jar" />
    <jar name="lib/ext/ApacheJMeter_core.jar" />
    <jar name="lib/ext/ApacheJMeter_ftp.jar" />
    <jar name="lib/ext/ApacheJMeter_functions.jar" />
    <jar name="lib/ext/ApacheJMeter_http.jar" />
    <jar name="lib/ext/ApacheJMeter_java.jar" />
    <jar name="lib/ext/ApacheJMeter_jdbc.jar" />
    <jar name="lib/ext/ApacheJMeter_ldap.jar" />
-->
    <jar name="dist/jakarta-jmeter-@@DATE@@_bin.zip" />
    <jar name="dist/jakarta-jmeter-@@DATE@@_src.zip" />
    <jar name="dist/jakarta-jmeter-@@DATE@@_lib.zip" />
    <license name="LICENSE"/>

    <nag from="Geir Magnusson Jr. &lt;geirm@apache.org&gt;"
         to="jmeter-dev@jakarta.apache.org">
        <regexp pattern="/BUILD FAILED/" subject="JMeter Build Failure"/>
        <regexp pattern="/FAILURES!!!|OK \(0 tests\)/" subject="JMeter Unit Test Failure"/>
    </nag>
  </project>

</module>
