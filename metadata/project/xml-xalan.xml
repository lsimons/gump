<?xml version="1.0" ?>
<!--
  Copyright 2001-2004 The Apache Software Foundation

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

       http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->
<module name="xml-xalan">

  <url href="http://xml.apache.org/xalan-j/index.html"/>
  <description>
    Release 2.x of the Xalan-Java XSLT processor
  </description>

  <cvs repository="xml"/>

  <!-- Name has changed to 'xalan' to match the Maven repository name. 
       xml-xalan2 is kept for compatibility.
  -->
  <project name="xml-xalan2">
    <depend project="xalan" inherit="jars" />
  </project>
  
  <project name="xalan">
    <package>org.apache.xalan</package>

    <ant basedir="java" target="unbundledjar"/>

    <depend project="bootstrap-ant"/>
    <depend project="xml-xerces"/>
    <depend project="java_cup" runtime="true"/>
    <depend project="jlex" runtime="true"/>
    <depend project="bcel" runtime="true"/>
    <depend project="xml-apis" inherit="jars"/>
    <depend project="jaxp" ids="xalan"/>
    <work nested="java/build/classes"/>
    <work nested="java/build/serializer"/>

    <home nested="java/build"/>
    <jar  name="xalan-unbundled.jar" type="boot" id="xalan" />
    <jar  name="serializer.jar" id="serializer" type="boot" />
    
    <!-- we can't have the same jar with two ids -->
    <!--jar  name="xalan-unbundled.jar" id="non-boot" /-->

    <nag from="Sam Ruby &lt;rubys@us.ibm.com&gt;"
         to="xalan-dev@xml.apache.org"/>
  </project>

  <project name="xsltc">
    <package>org.apache.xalan</package>

    <ant basedir="java" target="xsltc.unbundledjar"/>

    <depend project="bootstrap-ant"/>
    <depend project="xml-xerces"/>
    <depend project="java_cup" runtime="true"/>
    <depend project="jlex" runtime="true"/>
    <depend project="bcel" runtime="true"/>
    <depend project="xml-apis"/>
    <work nested="java/build/classes"/>
    <work nested="java/build/serializer"/>

    <home nested="java/build"/>
    <jar  name="xsltc.jar" type="boot" id="xsltc" />
    <jar  name="serializer.jar" id="serializer" type="boot" />
    
    <nag from="Sam Ruby &lt;rubys@us.ibm.com&gt;"
         to="xalan-dev@xml.apache.org"/>
  </project>

  <project name="dist-xalan2">
    <ant basedir="java" target="dist">
      <property name="version" value="@@DATE@@"/>
    </ant>

    <depend project="dist-ant" inherit="runtime"/>
    <depend project="xml-xerces"/>
    <depend project="jakarta-servletapi"/>
    <depend project="xalan"/>
    <depend project="xml-stylebook2"/>
    <option project="bsf"/>
    <depend project="ejb"/>
    <depend project="bcel" runtime="true"/>
    <depend project="xalan2jdoc"/>
    <work nested="java/build/classes"/>

    <home nested="java/build/xalan-j_@@DATE@@"/>
    <jar  name="bin/xalan.jar" type="boot"/>
    <javadoc nested="java/build/xalan-j_@@DATE@@/docs/apidocs" 
      project="xalan"/>

    <nag from="Sam Ruby &lt;rubys@us.ibm.com&gt;"
         to="xalan-dev@xml.apache.org"/>
  </project>

  <project name="xml-xalan2-smoketest-tools">
    <description>
      Independent testing harness org.apache.qetest
    </description>
    <ant basedir="test" buildfile="qetest.xml" target="jar"/>

    <depend project="ant" inherit="runtime"/>
    <depend project="xml-xerces"/>
    <depend project="xalan"/>

    <home nested="test/java/build"/>
    <jar name="qetest.jar"/>
    <nag from="Sam Ruby &lt;rubys@us.ibm.com&gt;"
         to="xalan-dev@xml.apache.org"/>
  </project>

  <project name="xml-xalan2-smoketest">
    <url href="http://xml.apache.org/xalan-j/test/"/>
    <description>
      Automated smoketests for Xalan-J 2.x
    </description>
    <ant basedir="test" target="smoketest.gump"/>
 
    <depend project="ant" inherit="runtime"/>
    <depend project="xml-xerces"/>
    <depend project="xalan"/>
    <depend project="xml-xalan2-smoketest-tools"/> <!-- Only needed to get taskdef name="xalantest" working in GUMP Jun-02 -sc -->
    <depend project="jtidy"/> <!-- Only needed for XSLTC testing currently Jun-02 -sc -->
    <work nested="test/java/build"/>
    <work nested="test/tests/extensions/java/build"/>
    <nag from="Sam Ruby &lt;rubys@us.ibm.com&gt;"
         to="xalan-dev@xml.apache.org"/>
  </project>

  <project name="xalan2jdoc">
    <home nested="java"/>
    <jar name="bin/xalan2jdoc.jar"/>
  </project>

  <project name="java_cup">
    <url href="http://www.cs.princeton.edu/~appel/modern/java/CUP/"/>
    <description>
      Parser Generator for Java
    </description>
    <home nested="java"/>
    <jar name="bin/java_cup.jar"/>
    <jar name="bin/runtime.jar"/>
  </project>

  <project name="jlex">
    <url href="http://www.cs.princeton.edu/~appel/modern/java/JLex/"/>
    <description>
      Lexical Analyzer Generator for Java
    </description>
    <home nested="java"/>
    <jar name="bin/JLex.jar"/>
  </project>

</module>
