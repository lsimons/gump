<?xml version="1.0"?>
<!--+
| Copyright 2003-2005 The Apache Software Foundation
| Licensed under the Apache License, Version 2.0 (the "License");
| you may not use this file except in compliance with the License.
| You may obtain a copy of the License at
|
|    http://www.apache.org/licenses/LICENSE-2.0
|
| Unless required by applicable law or agreed to in writing, software
| distributed under the License is distributed on an "AS IS" BASIS,
| WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
| See the License for the specific language governing permissions and
| limitations under the License.
+-->
<workspace 
        version="0.5" 
        name="gump3-test">

<repositories>
    <repository name="ant" type="cvs">
        <title>Ant</title>
        <home-page>http://ant.apache.org/</home-page>
        <cvsweb>http://cvs.apache.org/viewcvs/</cvsweb>
        <redistributable/>
        
        <hostname>cvs.apache.org</hostname>
        <method>pserver</method>
        <path>/home/cvspublic</path>
        <user>anoncvs</user>
        <password>anoncvs</password>
    </repository>

    <repository name="gump" type="svn">
        <title>Gump</title>
        <home-page>http://gump.apache.org/</home-page>
        <web>http://cvs.apache.org/viewcvs.cgi/gump/?root=Apache-SVN</web>
        <url>http://svn.apache.org/repos/asf/gump/branches/Gump3</url>
        <redistributable/>
    </repository>

    <repository name="xml" type="cvs">
        <title>XML</title>
        <home-page>http://xml.apache.org/</home-page>
        <cvsweb>http://cvs.apache.org/viewcvs/</cvsweb>
        <redistributable/>
        
        <hostname>cvs.apache.org</hostname>
        <method>pserver</method>
        <path>/home/cvspublic</path>
        <user>anoncvs</user>
        <password>anoncvs</password>
    </repository>
</repositories>
    
<modules>
    <module name="ant">
        <repository name="ant"/>
        
        <url>http://ant.apache.org/index.html</url>
        <description>Java based build tool</description>
    </module>
    
    <module name="gump-test" path="test">
        <repository name="gump"/>
        
        <url>http://gump.apache.org/index.html</url>
        <description>Gump Testing</description>
    </module>

    <module name="gump">
        <repository name="gump"/>
        
        <url>http://gump.apache.org/index.html</url>
        <description>Python based integration tool</description>
    </module>

    <module name="xml-commons">
        <repository name="xml"/>
    
        <url>htp://xml.apache.org/commons/</url>
        <description>XML commons -- externally defined standards - DOM,SAX,JAXP; plus xml utilities</description>
    </module>

    <module name="xml-xerces">
        <repository name="xml"/>
    
        <url href="http://xml.apache.org/xerces2-j/index.html"/>
        <description>Java XML Parser - the sequel with no equal</description>
    </module>

    <module name="xml-xalan">
        <repository name="xml"/>
    
        <url href="http://xml.apache.org/xalan-j/index.html"/>
        <description>Release 2.x of the Xalan-Java XSLT processor</description>

    </module>
</modules>

<projects>
    <project name="gump-unit-tests">
        <module name="gump"/>
        
        <!-- commands -->
        <script name="gump" shell="bash">
            <arg name="" value="test"/>
            <env name="GUMP_HOME" value="."/>
            <env name="PYTHONPATH"/>
            <env name="GUMP_WORKDIR"/>
            <env name="GUMP_HOSTNAME"/>
        </script> 
    </project>
    
    <project name="bootstrap-ant">
        <module name="ant"/>
        
        <!-- commands -->
        <script name="bootstrap"/>
        
        <!-- outputs -->
        <home nested="bootstrap"/>
        <jar name="lib/ant.jar"/>
        <jar name="lib/ant-launcher.jar" id="ant-launcher"/>
    </project>
    
    <project name="ant">
        <module name="ant"/>
        
        <!-- commands -->
        <ant/>
        
        <!-- dependencies -->
        <depend project="bootstrap-ant"/>
    </project>

    <project name="xml-apis">
        <module name="xml-commons"/>

        <!-- commands -->
        <ant basedir="java/external" target="jar"/>

        <!-- outputs -->
        <home nested="java/external/build"/>
        <jar name="xml-apis.jar" type="boot"/>
        
        <!-- dependencies -->
        <depend project="bootstrap-ant"/>
        <depend project="jaxp"/>
    </project>

    <project name="xml-commons-which">
        <module name="xml-commons"/>
        
        <!-- commands -->
        <ant basedir="java" buildfile="which.xml" target="jar"/>

        <!-- outputs -->
        <home nested="java/build"/>
        <jar name="which.jar" id="which"/>
        
        <!-- dependencies -->
        <depend project="xml-xerces"/>
        <depend project="bootstrap-ant"/>
    </project>

    <project name="xml-commons-resolver">
        <module name="xml-commons"/>
        <depend project="xml-resolver" inherit="jars"/>
    </project>

    <project name="xml-resolver">
        <module name="xml-commons"/>

        <!-- commands -->
        <ant basedir="java" buildfile="resolver.xml" target="gump"/>
        
        <!-- outputs -->
        <home nested="java/build"/>
        <jar name="resolver.jar"/>

        <!-- dependencies -->
        <depend project="jaxp"/>
        <depend project="xml-apis"/>
        <depend project="bootstrap-ant" inherit="runtime"/>
    </project>
    
    <project name="jaxp">
        <!-- assumed to be provided by JDK -->
    </project>

    <project name="xml-xerces">
        <module name="xml-xerces"/>
        
        <!-- commands -->
        <ant basedir="java" target="jar"/>
        
        <!-- outputs -->
        <home nested="java/build"/>
        <jar name="xercesImpl.jar" id="xml-parser" type="boot"/>
        
        <!-- dependencies -->
        <depend project="bootstrap-ant"/>
        <depend project="xjavac"/>
        <depend project="xml-commons-resolver"/>
        <option project="jaxp" ids="jaxp-api dom sax"/>
    </project>
    
    <project name="xml-xercesImpl">
        <module name="xml-xerces"/>

        <!-- outputs -->
        <home nested="java/build"/>
        <jar name="xercesImpl.jar" id="xercesImpl"/>

        <!-- dependencies -->
        <depend project="xml-xerces"/>
    </project>
    
    <project name="xjavac">
        <module name="xml-xerces"/>
        
        <!-- outputs -->
        <home nested="java/tools"/>
        <jar name="bin/xjavac.jar"/>
    </project>

    <project name="xalan">
        <module name="xml"/>
        
        <!-- commands -->
        <ant basedir="java" target="unbundledjar">
             <!-- todo: support properties -->
             <property name="build.sysclasspath" value="last"/>
        </ant>
        
        <!-- outputs -->
        <work nested="java/build/classes"/>
        <work nested="java/build/serializer"/>
        <home nested="java/build"/>
        <jar name="xalan-unbundled.jar" type="boot" id="xalan"/>
        <jar name="serializer.jar" id="serializer" type="boot"/>
        
        <!-- dependencies -->
        <depend project="bootstrap-ant"/>
        <depend project="xml-xerces"/>
        <depend project="java_cup" runtime="true"/>
        <depend project="jlex" runtime="true"/>
        <depend project="bcel" runtime="true"/>
        <depend project="xml-apis"/>
        <depend project="jaxp"/>
    </project>

    <project name="xsltc">
        <!-- commands -->
        <ant basedir="java" target="xsltc.unbundledjar"/>

        <!-- outputs -->
        <work nested="java/build/classes"/>
        <work nested="java/build/serializer"/>
        <home nested="java/build"/>
        <jar name="xsltc.jar" type="boot" id="xsltc"/>
        <jar name="serializer.jar" id="serializer" type="boot"/>

        <!-- dependencies -->
        <depend project="bootstrap-ant"/>
        <depend project="xml-xerces"/>
        <depend project="java_cup" runtime="true"/>
        <depend project="jlex" runtime="true"/>
        <depend project="bcel" runtime="true"/>
        <depend project="xml-apis"/>
    </project>

    <project name="java_cup">
        <!-- outputs -->
        <home nested="java"/>
        <jar name="bin/java_cup.jar"/>
        <jar name="bin/runtime.jar"/>
    </project>

    <project name="jlex">
        <!-- outputs -->
        <home nested="java"/>
        <jar name="bin/JLex.jar"/>
    </project>
</projects>
</workspace>